<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ­Ù„ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡ - CRM ÙØ§Ø±Ø³ÛŒ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.4.3/echarts.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.7.0/p5.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tensorflow/4.10.0/tf.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/typed.js/2.0.12/typed.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700&display=swap');
        
        * {
            font-family: 'Vazirmatn', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1e1b4b 0%, #312e81 50%, #1e1b4b 100%);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .glass-card {
            background: rgba(30, 30, 60, 0.3);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(139, 92, 246, 0.2);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        
        .enhanced-card {
            transition: all 0.3s ease;
            transform-style: preserve-3d;
        }
        
        .enhanced-card:hover {
            transform: translateY(-5px) rotateX(5deg) rotateY(5deg);
            box-shadow: 0 20px 40px rgba(139, 92, 246, 0.3);
        }
        
        .floating {
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        
        .animate-text {
            overflow: hidden;
        }
        
        .char {
            display: inline-block;
            transform: translateY(100px);
            opacity: 0;
        }
        
        .tilt-card {
            perspective: 1000px;
            transform-style: preserve-3d;
        }
        
        .ripple {
            position: absolute;
            border-radius: 50%;
            background: rgba(139, 92, 246, 0.6);
            transform: scale(0);
            animation: ripple-animation 0.6s linear;
            pointer-events: none;
        }
        
        @keyframes ripple-animation {
            to {
                transform: scale(4);
                opacity: 0;
            }
        }
        
        .enhanced-btn {
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .enhanced-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(139, 92, 246, 0.3);
        }
        
        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(139, 92, 246, 0.3);
            border-top: 4px solid #8B5CF6;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .success-notification, .error-notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: 8px;
            color: white;
            display: flex;
            align-items: center;
            gap: 10px;
            z-index: 10000;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        
        .success-notification {
            background: #10B981;
        }
        
        .error-notification {
            background: #EF4444;
        }
        
        .ai-assistant-button {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #8B5CF6, #EC4899);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: white;
            cursor: pointer;
            box-shadow: 0 8px 20px rgba(139, 92, 246, 0.4);
            transition: all 0.3s ease;
            z-index: 1000;
        }
        
        .ai-assistant-button:hover {
            transform: scale(1.1);
            box-shadow: 0 12px 30px rgba(139, 92, 246, 0.6);
        }
        
        .analytics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .analytics-card {
            background: rgba(30, 30, 60, 0.3);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(139, 92, 246, 0.2);
            border-radius: 15px;
            padding: 20px;
            transition: all 0.3s ease;
        }
        
        .analytics-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(139, 92, 246, 0.2);
        }
        
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .card-title {
            font-size: 18px;
            font-weight: 600;
            color: white;
        }
        
        .card-actions {
            display: flex;
            gap: 10px;
        }
        
        .card-action-btn {
            background: rgba(139, 92, 246, 0.2);
            border: none;
            color: white;
            padding: 8px 12px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .card-action-btn:hover {
            background: rgba(139, 92, 246, 0.4);
        }
        
        .metric-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 15px 0;
            border-bottom: 1px solid rgba(139, 92, 246, 0.1);
        }
        
        .metric-row:last-child {
            border-bottom: none;
        }
        
        .metric-label {
            color: #A78BFA;
            font-weight: 500;
        }
        
        .metric-value {
            color: white;
            font-weight: bold;
            font-size: 18px;
        }
        
        .metric-change {
            font-size: 12px;
            padding: 2px 8px;
            border-radius: 12px;
            margin-right: 8px;
        }
        
        .metric-change.positive {
            background: rgba(34, 197, 94, 0.2);
            color: #22C55E;
        }
        
        .metric-change.negative {
            background: rgba(239, 68, 68, 0.2);
            color: #EF4444;
        }
        
        .chart-container {
            height: 300px;
            width: 100%;
        }
        
        .chart-container.large {
            height: 400px;
        }
        
        .insights-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .insight-card {
            background: rgba(30, 30, 60, 0.3);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(139, 92, 246, 0.2);
            border-radius: 15px;
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            transition: all 0.3s ease;
        }
        
        .insight-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(139, 92, 246, 0.2);
        }
        
        .insight-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #8B5CF6, #EC4899);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            flex-shrink: 0;
        }
        
        .insight-content {
            flex: 1;
        }
        
        .insight-title {
            color: white;
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .insight-description {
            color: #A78BFA;
            font-size: 14px;
        }
        
        .insight-value {
            color: white;
            font-size: 24px;
            font-weight: bold;
            margin-top: 10px;
        }
        
        .ai-predictions {
            background: rgba(30, 30, 60, 0.3);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(139, 92, 246, 0.2);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
        }
        
        .prediction-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: rgba(139, 92, 246, 0.1);
            border-radius: 10px;
            margin-bottom: 15px;
        }
        
        .prediction-item:last-child {
            margin-bottom: 0;
        }
        
        .prediction-icon {
            font-size: 24px;
            flex-shrink: 0;
        }
        
        .prediction-content {
            flex: 1;
        }
        
        .prediction-title {
            color: white;
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .prediction-description {
            color: #A78BFA;
            font-size: 14px;
        }
        
        .prediction-confidence {
            background: rgba(34, 197, 94, 0.2);
            color: #22C55E;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .filters-section {
            background: rgba(30, 30, 60, 0.3);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(139, 92, 246, 0.2);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
        }
        
        .filters-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .filter-label {
            color: #A78BFA;
            font-weight: 500;
            font-size: 14px;
        }
        
        .filter-input {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 8px;
            padding: 10px 15px;
            color: white;
            outline: none;
            transition: all 0.3s ease;
        }
        
        .filter-input:focus {
            border-color: rgba(139, 92, 246, 0.5);
            box-shadow: 0 0 20px rgba(139, 92, 246, 0.3);
        }
        
        .filter-select {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 8px;
            padding: 10px 15px;
            color: white;
            outline: none;
        }
        
        .filter-select option {
            background: #1e1b4b;
            color: white;
        }
        
        .date-range {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .date-range input {
            flex: 1;
        }
        
        .real-time-indicator {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 15px;
            background: rgba(34, 197, 94, 0.2);
            border-radius: 25px;
            color: #22C55E;
            font-size: 14px;
            font-weight: 500;
        }
        
        .real-time-dot {
            width: 8px;
            height: 8px;
            background: #22C55E;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .nav-item.active {
            background: rgba(139, 92, 246, 0.2);
            border-right: 3px solid #8B5CF6;
        }
        
        .smart-search {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 25px;
            padding: 10px 20px;
            color: white;
            outline: none;
            transition: all 0.3s ease;
        }
        
        .smart-search:focus {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(139, 92, 246, 0.5);
            box-shadow: 0 0 20px rgba(139, 92, 246, 0.3);
        }
        
        .smart-search::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }
        
        .theme-light {
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            color: #1e293b;
        }
        
        .theme-light .glass-card,
        .theme-light .analytics-card,
        .theme-light .insight-card,
        .theme-light .ai-predictions,
        .theme-light .filters-section {
            background: rgba(255, 255, 255, 0.8);
            border-color: rgba(139, 92, 246, 0.1);
        }
        
        .theme-light .card-title,
        .theme-light .metric-value,
        .theme-light .insight-title,
        .theme-light .prediction-title,
        .theme-light .prediction-value {
            color: #1e293b;
        }
        
        .theme-light .metric-label,
        .theme-light .insight-description,
        .theme-light .prediction-description,
        .theme-light .filter-label {
            color: #64748b;
        }
        
        .theme-light .filter-input,
        .theme-light .filter-select,
        .theme-light .smart-search {
            background: rgba(255, 255, 255, 0.8);
            color: #1e293b;
            border-color: rgba(139, 92, 246, 0.2);
        }
        
        .theme-light .filter-input:focus,
        .theme-light .filter-select:focus,
        .theme-light .smart-search:focus {
            border-color: rgba(139, 92, 246, 0.5);
        }
        
        .theme-cosmic {
            background: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
            color: white;
        }
        
        .page-content {
            transition: all 0.3s ease;
        }
        
        .loader-particles {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 5px;
        }
        
        .particle {
            width: 8px;
            height: 8px;
            background: #8B5CF6;
            border-radius: 50%;
            animation: particle-bounce 1.4s ease-in-out infinite both;
        }
        
        .particle:nth-child(1) { animation-delay: -0.32s; }
        .particle:nth-child(2) { animation-delay: -0.16s; }
        
        @keyframes particle-bounce {
            0%, 80%, 100% {
                transform: scale(0);
            }
            40% {
                transform: scale(1);
            }
        }
    </style>
</head>
<body class="theme-cosmic">
    <!-- Particle System Container -->
    <div id="particle-container"></div>
    
    <!-- Navigation -->
    <nav class="fixed top-0 right-0 w-64 h-full glass-card z-50">
        <div class="p-6">
            <div class="text-center mb-8">
                <div class="w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full mx-auto mb-4 flex items-center justify-center text-2xl">
                    ğŸ‘‘
                </div>
                <h1 class="text-xl font-bold text-white">CRM ÙØ§Ø±Ø³ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡</h1>
                <p class="text-sm text-gray-300">Ù†Ø³Ø®Ù‡ Û².Û° Ù‡ÙˆØ´Ù…Ù†Ø¯</p>
            </div>
            
            <div class="space-y-2">
                <a href="enhanced-dashboard.html" class="nav-item flex items-center p-3 rounded-lg text-white hover:bg-purple-500/20 transition-all" data-page="dashboard">
                    <i class="fas fa-tachometer-alt ml-3"></i>
                    <span>Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ù¾ÛŒØ´Ø±ÙØªÙ‡</span>
                </a>
                <a href="enhanced-customers.html" class="nav-item flex items-center p-3 rounded-lg text-white hover:bg-purple-500/20 transition-all" data-page="customers">
                    <i class="fas fa-users ml-3"></i>
                    <span>Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø´ØªØ±ÛŒØ§Ù†</span>
                </a>
                <a href="enhanced-analytics.html" class="nav-item active flex items-center p-3 rounded-lg text-white hover:bg-purple-500/20 transition-all" data-page="analytics">
                    <i class="fas fa-chart-line ml-3"></i>
                    <span>ØªØ­Ù„ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡</span>
                </a>
                <a href="enhanced-calendar.html" class="nav-item flex items-center p-3 rounded-lg text-white hover:bg-purple-500/20 transition-all" data-page="calendar">
                    <i class="fas fa-calendar-alt ml-3"></i>
                    <span>ØªÙ‚ÙˆÛŒÙ… Ù‡ÙˆØ´Ù…Ù†Ø¯</span>
                </a>
                <a href="enhanced-tasks.html" class="nav-item flex items-center p-3 rounded-lg text-white hover:bg-purple-500/20 transition-all" data-page="tasks">
                    <i class="fas fa-tasks ml-3"></i>
                    <span>Ù…Ø¯ÛŒØ±ÛŒØª ÙˆØ¸Ø§ÛŒÙ</span>
                </a>
                <a href="enhanced-settings.html" class="nav-item flex items-center p-3 rounded-lg text-white hover:bg-purple-500/20 transition-all" data-page="settings">
                    <i class="fas fa-cog ml-3"></i>
                    <span>ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù¾ÛŒØ´Ø±ÙØªÙ‡</span>
                </a>
            </div>
            
            <!-- Theme Switcher -->
            <div class="mt-8 p-4 bg-purple-500/10 rounded-lg">
                <label class="block text-sm text-gray-300 mb-2">ØªÙ… Ø¨Ø±Ù†Ø§Ù…Ù‡</label>
                <select class="theme-switcher w-full p-2 bg-purple-500/20 border border-purple-500/30 rounded text-white">
                    <option value="cosmic">Ú©ÛŒÙ‡Ø§Ù†ÛŒ</option>
                    <option value="light">Ø±ÙˆØ´Ù†</option>
                    <option value="dark">ØªÛŒØ±Ù‡</option>
                </select>
            </div>
        </div>
    </nav>
    
    <!-- Main Content -->
    <main class="mr-64 min-h-screen">
        <!-- Header -->
        <header class="glass-card p-6">
            <div class="flex items-center justify-between">
                <div>
                    <h2 class="text-3xl font-bold text-white animate-text">ØªØ­Ù„ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡</h2>
                    <p class="text-gray-300 mt-2">Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ Ø¨Ø±Ø§ÛŒ ØªØ­Ù„ÛŒÙ„ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ùˆ Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ Ø±ÙˆÙ†Ø¯Ù‡Ø§ÛŒ Ø¢ÛŒÙ†Ø¯Ù‡</p>
                </div>
                
                <div class="flex items-center gap-4">
                    <!-- Global Search -->
                    <input type="text" placeholder="Ø¬Ø³ØªØ¬ÙˆÛŒ Ù‡ÙˆØ´Ù…Ù†Ø¯... (Ctrl+/)" class="global-search smart-search w-64">
                    
                    <!-- Real-time Indicator -->
                    <div class="real-time-indicator">
                        <div class="real-time-dot"></div>
                        <span>Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø²Ù†Ø¯Ù‡</span>
                    </div>
                    
                    <!-- Export Analytics -->
                    <button class="enhanced-btn bg-gradient-to-r from-green-500 to-blue-500 text-white px-6 py-2 rounded-lg">
                        <i class="fas fa-download ml-2"></i>
                        Ø®Ø±ÙˆØ¬ÛŒ ØªØ­Ù„ÛŒÙ„â€ŒÙ‡Ø§
                    </button>
                </div>
            </div>
        </header>
        
        <!-- Analytics Content -->
        <div class="page-content p-6">
            <!-- Filters Section -->
            <div class="filters-section">
                <h3 class="text-xl font-bold text-white mb-4">
                    <i class="fas fa-filter ml-2"></i>
                    ÙÛŒÙ„ØªØ±Ù‡Ø§ÛŒ ØªØ­Ù„ÛŒÙ„
                </h3>
                <div class="filters-grid">
                    <div class="filter-group">
                        <label class="filter-label">Ø¨Ø§Ø²Ù‡ Ø²Ù…Ø§Ù†ÛŒ</label>
                        <select class="filter-select" id="timeRange">
                            <option value="7">Û· Ø±ÙˆØ² Ú¯Ø°Ø´ØªÙ‡</option>
                            <option value="30" selected>Û³Û° Ø±ÙˆØ² Ú¯Ø°Ø´ØªÙ‡</option>
                            <option value="90">Û¹Û° Ø±ÙˆØ² Ú¯Ø°Ø´ØªÙ‡</option>
                            <option value="365">Û± Ø³Ø§Ù„ Ú¯Ø°Ø´ØªÙ‡</option>
                            <option value="custom">Ø³ÙØ§Ø±Ø´ÛŒ</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">Ø¨Ø§Ø²Ø§Ø± Ù‡Ø¯Ù</label>
                        <select class="filter-select" id="marketSegment">
                            <option value="all">Ù‡Ù…Ù‡ Ø¨Ø®Ø´â€ŒÙ‡Ø§</option>
                            <option value="technology">ÙÙ†Ø§ÙˆØ±ÛŒ</option>
                            <option value="health">Ø³Ù„Ø§Ù…Øª</option>
                            <option value="education">Ø¢Ù…ÙˆØ²Ø´</option>
                            <option value="finance">Ù…Ø§Ù„ÛŒ</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">Ù†ÙˆØ¹ ØªØ­Ù„ÛŒÙ„</label>
                        <select class="filter-select" id="analysisType">
                            <option value="sales">ÙØ±ÙˆØ´</option>
                            <option value="customers">Ù…Ø´ØªØ±ÛŒØ§Ù†</option>
                            <option value="marketing">Ø¨Ø§Ø²Ø§Ø±ÛŒØ§Ø¨ÛŒ</option>
                            <option value="support">Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">Ù†ÙˆØ¹ Ù†Ù…ÙˆØ¯Ø§Ø±</label>
                        <select class="filter-select" id="chartType">
                            <option value="line">Ø®Ø·ÛŒ</option>
                            <option value="bar">Ø³ØªÙˆÙ†ÛŒ</option>
                            <option value="pie">Ø¯Ø§ÛŒØ±Ù‡â€ŒØ§ÛŒ</option>
                            <option value="scatter">Ù¾Ø®Ø´</option>
                        </select>
                    </div>
                </div>
                <div class="flex justify-between items-center mt-4">
                    <button class="enhanced-btn bg-gradient-to-r from-purple-500 to-pink-500 text-white px-6 py-2 rounded-lg" onclick="applyAnalyticsFilters()">
                        <i class="fas fa-chart-line ml-2"></i>
                        Ø§Ø¹Ù…Ø§Ù„ ÙÛŒÙ„ØªØ±Ù‡Ø§
                    </button>
                    <button class="enhanced-btn bg-gray-500 text-white px-6 py-2 rounded-lg" onclick="resetFilters()">
                        <i class="fas fa-undo ml-2"></i>
                        Ø¨Ø§Ø²Ù†Ø´Ø§Ù†ÛŒ
                    </button>
                </div>
            </div>
            
            <!-- Key Metrics -->
            <div class="analytics-grid">
                <div class="analytics-card enhanced-card floating">
                    <div class="card-header">
                        <h3 class="card-title">Ø¹Ù…Ù„Ú©Ø±Ø¯ ÙØ±ÙˆØ´</h3>
                        <div class="card-actions">
                            <button class="card-action-btn" onclick="refreshMetric('sales')">
                                <i class="fas fa-sync-alt"></i>
                            </button>
                        </div>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Ú©Ù„ ÙØ±ÙˆØ´</span>
                        <div>
                            <span class="metric-value">Û²Û´.ÛµM ØªÙˆÙ…Ø§Ù†</span>
                            <span class="metric-change positive">+Û±Û¸Ùª</span>
                        </div>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Ø³ÙØ§Ø±Ø´â€ŒÙ‡Ø§</span>
                        <div>
                            <span class="metric-value">Û±,Û²Û³Û´ Ø³ÙØ§Ø±Ø´</span>
                            <span class="metric-change positive">+Û±Û²Ùª</span>
                        </div>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ø³ÙØ§Ø±Ø´</span>
                        <div>
                            <span class="metric-value">Û±Û¹,Û¸Û°Û° ØªÙˆÙ…Ø§Ù†</span>
                            <span class="metric-change positive">+ÛµÙª</span>
                        </div>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Ù†Ø±Ø® ØªØ¨Ø¯ÛŒÙ„</span>
                        <div>
                            <span class="metric-value">Û³.Û²Ùª</span>
                            <span class="metric-change negative">-Û°.ÛµÙª</span>
                        </div>
                    </div>
                </div>
                
                <div class="analytics-card enhanced-card floating" style="animation-delay: 0.5s;">
                    <div class="card-header">
                        <h3 class="card-title">Ù…Ø´ØªØ±ÛŒØ§Ù†</h3>
                        <div class="card-actions">
                            <button class="card-action-btn" onclick="refreshMetric('customers')">
                                <i class="fas fa-sync-alt"></i>
                            </button>
                        </div>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Ù…Ø´ØªØ±ÛŒØ§Ù† Ø¬Ø¯ÛŒØ¯</span>
                        <div>
                            <span class="metric-value">Û±ÛµÛ¶ Ù†ÙØ±</span>
                            <span class="metric-change positive">+Û²Û³Ùª</span>
                        </div>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Ù…Ø´ØªØ±ÛŒØ§Ù† ÙØ¹Ø§Ù„</span>
                        <div>
                            <span class="metric-value">Û¸Û¹Û² Ù†ÙØ±</span>
                            <span class="metric-change positive">+Û¸Ùª</span>
                        </div>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Ù†Ø±Ø® Ø­ÙØ¸ Ù…Ø´ØªØ±ÛŒ</span>
                        <div>
                            <span class="metric-value">Û¸Û·Ùª</span>
                            <span class="metric-change positive">+Û³Ùª</span>
                        </div>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Ø§Ø±Ø²Ø´ Ø·ÙˆÙ„ Ø¹Ù…Ø± Ù…Ø´ØªØ±ÛŒ</span>
                        <div>
                            <span class="metric-value">Û±ÛµÛ¶K ØªÙˆÙ…Ø§Ù†</span>
                            <span class="metric-change positive">+Û±Û²Ùª</span>
                        </div>
                    </div>
                </div>
                
                <div class="analytics-card enhanced-card floating" style="animation-delay: 1s;">
                    <div class="card-header">
                        <h3 class="card-title">Ø¨Ø§Ø²Ø§Ø±ÛŒØ§Ø¨ÛŒ</h3>
                        <div class="card-actions">
                            <button class="card-action-btn" onclick="refreshMetric('marketing')">
                                <i class="fas fa-sync-alt"></i>
                            </button>
                        </div>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">ØªØ±Ø§ÙÛŒÚ© ÙˆØ¨â€ŒØ³Ø§ÛŒØª</span>
                        <div>
                            <span class="metric-value">Û´Ûµ,Û²Û³Û± Ø¨Ø§Ø²Ø¯ÛŒØ¯</span>
                            <span class="metric-change positive">+Û³Û´Ùª</span>
                        </div>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Ù†Ø±Ø® Ú©Ù„ÛŒÚ©</span>
                        <div>
                            <span class="metric-value">Û².Û¸Ùª</span>
                            <span class="metric-change positive">+Û°.Û·Ùª</span>
                        </div>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Ù‡Ø²ÛŒÙ†Ù‡ Ø¨Ù‡ Ø§Ø²Ø§ÛŒ Ù…Ø´ØªØ±ÛŒ</span>
                        <div>
                            <span class="metric-value">Û´Ûµ,Û¶Û°Û° ØªÙˆÙ…Ø§Ù†</span>
                            <span class="metric-change negative">+Û¸Ùª</span>
                        </div>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Ø¨Ø§Ø²Ú¯Ø´Øª Ø³Ø±Ù…Ø§ÛŒÙ‡</span>
                        <div>
                            <span class="metric-value">Û³.Û´x</span>
                            <span class="metric-change positive">+Û°.Û¶x</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- AI Predictions -->
            <div class="ai-predictions enhanced-card">
                <div class="card-header">
                    <h3 class="card-title">
                        <i class="fas fa-brain ml-2"></i>
                        Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒâ€ŒÙ‡Ø§ÛŒ Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ
                    </h3>
                    <div class="card-actions">
                        <button class="card-action-btn" onclick="refreshPredictions()">
                            <i class="fas fa-sync-alt"></i>
                        </button>
                    </div>
                </div>
                
                <div class="prediction-item">
                    <div class="prediction-icon">ğŸ“ˆ</div>
                    <div class="prediction-content">
                        <div class="prediction-title">Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ ÙØ±ÙˆØ´ Ù…Ø§Ù‡ Ø¢ÛŒÙ†Ø¯Ù‡</div>
                        <div class="prediction-description">Ø¨Ø± Ø§Ø³Ø§Ø³ Ø±ÙˆÙ†Ø¯ ÙØ¹Ù„ÛŒ Ùˆ Ø¹ÙˆØ§Ù…Ù„ ÙØµÙ„ÛŒ</div>
                    </div>
                    <div class="prediction-confidence">Û¹Û²Ùª Ø§Ø·Ù…ÛŒÙ†Ø§Ù†</div>
                    <div class="metric-value">Û²Û¸.Û³M ØªÙˆÙ…Ø§Ù†</div>
                </div>
                
                <div class="prediction-item">
                    <div class="prediction-icon">ğŸ‘¥</div>
                    <div class="prediction-content">
                        <div class="prediction-title">Ø±Ø´Ø¯ Ù…Ø´ØªØ±ÛŒØ§Ù† Ù‡Ø¯Ù</div>
                        <div class="prediction-description">Ù¾ØªØ§Ù†Ø³ÛŒÙ„ Ø¬Ø°Ø¨ Ø¯Ø± Ø¨Ø®Ø´ ÙÙ†Ø§ÙˆØ±ÛŒ Ùˆ Ø¢Ù…ÙˆØ²Ø´</div>
                    </div>
                    <div class="prediction-confidence">Û¸Û·Ùª Ø§Ø·Ù…ÛŒÙ†Ø§Ù†</div>
                    <div class="metric-value">Û±Û¸Û¹ Ù…Ø´ØªØ±ÛŒ Ø¬Ø¯ÛŒØ¯</div>
                </div>
                
                <div class="prediction-item">
                    <div class="prediction-icon">âš ï¸</div>
                    <div class="prediction-content">
                        <div class="prediction-title">Ø®Ø·Ø± Ø§Ø² Ø¯Ø³Øª Ø¯Ø§Ø¯Ù† Ù…Ø´ØªØ±ÛŒ</div>
                        <div class="prediction-description">Ù…Ø´ØªØ±ÛŒØ§Ù†ÛŒ Ú©Ù‡ Ù†ÛŒØ§Ø² Ø¨Ù‡ Ù¾ÛŒÚ¯ÛŒØ±ÛŒ ÙÙˆØ±ÛŒ Ø¯Ø§Ø±Ù†Ø¯</div>
                    </div>
                    <div class="prediction-confidence">Û·Û¶Ùª Ø§Ø·Ù…ÛŒÙ†Ø§Ù†</div>
                    <div class="metric-value">Û²Û³ Ù…Ø´ØªØ±ÛŒ</div>
                </div>
                
                <div class="prediction-item">
                    <div class="prediction-icon">ğŸ¯</div>
                    <div class="prediction-content">
                        <div class="prediction-title">Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ú©Ù…Ù¾ÛŒÙ† Ø¨Ø§Ø²Ø§Ø±ÛŒØ§Ø¨ÛŒ</div>
                        <div class="prediction-description">ØªÙˆØµÛŒÙ‡â€ŒÙ‡Ø§ÛŒ AI Ø¨Ø±Ø§ÛŒ Ø¨Ù‡Ø¨ÙˆØ¯ Ø¹Ù…Ù„Ú©Ø±Ø¯</div>
                    </div>
                    <div class="prediction-confidence">Û¸Û´Ùª Ø§Ø·Ù…ÛŒÙ†Ø§Ù†</div>
                    <div class="metric-value">+Û²Û·Ùª Ø¨Ø§Ø²Ø¯Ù‡ÛŒ</div>
                </div>
            </div>
            
            <!-- Charts Section -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                <div class="glass-card p-6">
                    <div class="card-header">
                        <h3 class="card-title">Ø±ÙˆÙ†Ø¯ ÙØ±ÙˆØ´</h3>
                        <div class="card-actions">
                            <button class="card-action-btn" onclick="refreshChart('salesTrend')">
                                <i class="fas fa-sync-alt"></i>
                            </button>
                        </div>
                    </div>
                    <div class="chart-container" id="salesTrendChart"></div>
                </div>
                
                <div class="glass-card p-6">
                    <div class="card-header">
                        <h3 class="card-title">ØªÙˆØ²ÛŒØ¹ Ù…Ø´ØªØ±ÛŒØ§Ù†</h3>
                        <div class="card-actions">
                            <button class="card-action-btn" onclick="refreshChart('customerDistribution')">
                                <i class="fas fa-sync-alt"></i>
                            </button>
                        </div>
                    </div>
                    <div class="chart-container" id="customerDistributionChart"></div>
                </div>
            </div>
            
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                <div class="glass-card p-6">
                    <div class="card-header">
                        <h3 class="card-title">Ø¹Ù…Ù„Ú©Ø±Ø¯ Ø¨Ø§Ø²Ø§Ø±ÛŒØ§Ø¨ÛŒ</h3>
                        <div class="card-actions">
                            <button class="card-action-btn" onclick="refreshChart('marketingPerformance')">
                                <i class="fas fa-sync-alt"></i>
                            </button>
                        </div>
                    </div>
                    <div class="chart-container" id="marketingChart"></div>
                </div>
                
                <div class="glass-card p-6">
                    <div class="card-header">
                        <h3 class="card-title">Ø±Ø¶Ø§ÛŒØª Ù…Ø´ØªØ±ÛŒØ§Ù†</h3>
                        <div class="card-actions">
                            <button class="card-action-btn" onclick="refreshChart('satisfaction')">
                                <i class="fas fa-sync-alt"></i>
                            </button>
                        </div>
                    </div>
                    <div class="chart-container" id="satisfactionChart"></div>
                </div>
            </div>
            
            <!-- Large Chart -->
            <div class="glass-card p-6">
                <div class="card-header">
                    <h3 class="card-title">Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ ØªØ­Ù„ÛŒÙ„ Ø¬Ø§Ù…Ø¹</h3>
                    <div class="card-actions">
                        <button class="card-action-btn" onclick="refreshChart('comprehensive')">
                            <i class="fas fa-sync-alt"></i>
                        </button>
                        <button class="card-action-btn" onclick="fullscreenChart('comprehensive')">
                            <i class="fas fa-expand"></i>
                        </button>
                    </div>
                </div>
                <div class="chart-container large" id="comprehensiveChart"></div>
            </div>
            
            <!-- Insights Grid -->
            <div class="insights-grid">
                <div class="insight-card enhanced-card">
                    <div class="insight-icon">ğŸš€</div>
                    <div class="insight-content">
                        <div class="insight-title">Ø±Ø´Ø¯ Ø³Ø±ÛŒØ¹</div>
                        <div class="insight-description">Ù†Ø³Ø¨Øª Ø¨Ù‡ Ù…Ø§Ù‡ Ù‚Ø¨Ù„</div>
                        <div class="insight-value">+Û³Û´Ùª</div>
                    </div>
                </div>
                
                <div class="insight-card enhanced-card">
                    <div class="insight-icon">ğŸ’°</div>
                    <div class="insight-content">
                        <div class="insight-title">Ø¯Ø±Ø¢Ù…Ø¯ Ú©Ù„</div>
                        <div class="insight-description">Ø§ÛŒÙ† Ù…Ø§Ù‡</div>
                        <div class="insight-value">Û²Û´.ÛµM</div>
                    </div>
                </div>
                
                <div class="insight-card enhanced-card">
                    <div class="insight-icon">ğŸ‘¥</div>
                    <div class="insight-content">
                        <div class="insight-title">Ù…Ø´ØªØ±ÛŒØ§Ù† Ø¬Ø¯ÛŒØ¯</div>
                        <div class="insight-description">Ø§ÛŒÙ† Ù‡ÙØªÙ‡</div>
                        <div class="insight-value">Û´Û²</div>
                    </div>
                </div>
                
                <div class="insight-card enhanced-card">
                    <div class="insight-icon">â­</div>
                    <div class="insight-content">
                        <div class="insight-title">Ø±Ø¶Ø§ÛŒØª Ú©Ù„ÛŒ</div>
                        <div class="insight-description">Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ø§Ù…ØªÛŒØ§Ø²</div>
                        <div class="insight-value">Û´.Û¶</div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    
    <!-- AI Assistant Button -->
    <div class="ai-assistant-button" onclick="crm.toggleAIAssistant()">
        ğŸ¤–
    </div>
    
    <!-- Enhanced Main Script -->
    <script src="enhanced-main.js"></script>
    
    <script>
        // Analytics charts
        let charts = {};
        
        // Initialize analytics page
        document.addEventListener('DOMContentLoaded', function() {
            initializeCharts();
            initializeTypedText();
            startRealTimeUpdates();
        });
        
        function initializeCharts() {
            if (typeof echarts === 'undefined') {
                console.warn('ECharts not loaded, skipping chart initialization');
                return;
            }
            
            // Sales Trend Chart
            charts.salesTrend = echarts.init(document.getElementById('salesTrendChart'));
            const salesTrendOption = {
                backgroundColor: 'transparent',
                tooltip: {
                    trigger: 'axis',
                    backgroundColor: 'rgba(30, 30, 60, 0.9)',
                    borderColor: '#6B46C1',
                    textStyle: { color: '#E0E7FF' }
                },
                legend: {
                    data: ['ÙØ±ÙˆØ´', 'Ù‡Ø¯Ù'],
                    textStyle: { color: '#A78BFA' },
                    top: 10
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    boundaryGap: false,
                    data: ['ÙØ±ÙˆØ±Ø¯ÛŒÙ†', 'Ø§Ø±Ø¯ÛŒØ¨Ù‡Ø´Øª', 'Ø®Ø±Ø¯Ø§Ø¯', 'ØªÛŒØ±', 'Ù…Ø±Ø¯Ø§Ø¯', 'Ø´Ù‡Ø±ÛŒÙˆØ±', 'Ù…Ù‡Ø±', 'Ø¢Ø¨Ø§Ù†', 'Ø¢Ø°Ø±', 'Ø¯ÛŒ', 'Ø¨Ù‡Ù…Ù†', 'Ø§Ø³ÙÙ†Ø¯'],
                    axisLabel: { color: '#A78BFA' },
                    axisLine: { lineStyle: { color: '#6B46C1' } }
                },
                yAxis: {
                    type: 'value',
                    axisLabel: { color: '#A78BFA' },
                    axisLine: { lineStyle: { color: '#6B46C1' } },
                    splitLine: { lineStyle: { color: 'rgba(139, 92, 246, 0.1)' } }
                },
                series: [
                    {
                        name: 'ÙØ±ÙˆØ´',
                        type: 'line',
                        smooth: true,
                        data: [12, 15, 18, 22, 25, 28, 32, 35, 38, 42, 45, 48],
                        itemStyle: { color: '#8B5CF6' },
                        areaStyle: {
                            color: {
                                type: 'linear',
                                x: 0, y: 0, x2: 0, y2: 1,
                                colorStops: [
                                    { offset: 0, color: 'rgba(139, 92, 246, 0.3)' },
                                    { offset: 1, color: 'rgba(139, 92, 246, 0.05)' }
                                ]
                            }
                        }
                    },
                    {
                        name: 'Ù‡Ø¯Ù',
                        type: 'line',
                        smooth: true,
                        data: [10, 14, 17, 20, 24, 27, 30, 33, 36, 40, 43, 46],
                        itemStyle: { color: '#EC4899' },
                        lineStyle: { type: 'dashed' }
                    }
                ]
            };
            charts.salesTrend.setOption(salesTrendOption);
            
            // Customer Distribution Chart
            charts.customerDistribution = echarts.init(document.getElementById('customerDistributionChart'));
            const customerDistributionOption = {
                backgroundColor: 'transparent',
                tooltip: {
                    trigger: 'item',
                    backgroundColor: 'rgba(30, 30, 60, 0.9)',
                    borderColor: '#6B46C1',
                    textStyle: { color: '#E0E7FF' }
                },
                legend: {
                    orient: 'vertical',
                    left: 'left',
                    textStyle: { color: '#A78BFA' }
                },
                series: [
                    {
                        name: 'ØªÙˆØ²ÛŒØ¹ Ù…Ø´ØªØ±ÛŒØ§Ù†',
                        type: 'pie',
                        radius: '50%',
                        data: [
                            { value: 435, name: 'ÙØ¹Ø§Ù„', itemStyle: { color: '#8B5CF6' } },
                            { value: 310, name: 'ØºÛŒØ±ÙØ¹Ø§Ù„', itemStyle: { color: '#EC4899' } },
                            { value: 234, name: 'Ù¾ØªØ§Ù†Ø³ÛŒÙ„', itemStyle: { color: '#06B6D4' } },
                            { value: 135, name: 'Ø¬Ø¯ÛŒØ¯', itemStyle: { color: '#10B981' } }
                        ],
                        emphasis: {
                            itemStyle: {
                                shadowBlur: 10,
                                shadowOffsetX: 0,
                                shadowColor: 'rgba(0, 0, 0, 0.5)'
                            }
                        }
                    }
                ]
            };
            charts.customerDistribution.setOption(customerDistributionOption);
            
            // Marketing Performance Chart
            charts.marketing = echarts.init(document.getElementById('marketingChart'));
            const marketingOption = {
                backgroundColor: 'transparent',
                tooltip: {
                    trigger: 'axis',
                    backgroundColor: 'rgba(30, 30, 60, 0.9)',
                    borderColor: '#6B46C1',
                    textStyle: { color: '#E0E7FF' }
                },
                legend: {
                    data: ['Ú©Ù„ÛŒÚ©â€ŒÙ‡Ø§', 'ØªØ¨Ø¯ÛŒÙ„â€ŒÙ‡Ø§'],
                    textStyle: { color: '#A78BFA' },
                    top: 10
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    data: ['Ø§ÛŒÙ…ÛŒÙ„', 'Ø§Ø¬ØªÙ…Ø§Ø¹ÛŒ', 'Ø¬Ø³ØªØ¬Ùˆ', 'Ù†Ù…Ø§ÛŒØ´', 'ÙˆÛŒØ¯ÛŒÙˆ', 'ÙˆØ¨Ù„Ø§Ú¯'],
                    axisLabel: { color: '#A78BFA' },
                    axisLine: { lineStyle: { color: '#6B46C1' } }
                },
                yAxis: [
                    {
                        type: 'value',
                        name: 'Ú©Ù„ÛŒÚ©â€ŒÙ‡Ø§',
                        position: 'left',
                        axisLabel: { color: '#A78BFA' },
                        axisLine: { lineStyle: { color: '#6B46C1' } },
                        splitLine: { lineStyle: { color: 'rgba(139, 92, 246, 0.1)' } }
                    },
                    {
                        type: 'value',
                        name: 'ØªØ¨Ø¯ÛŒÙ„â€ŒÙ‡Ø§',
                        position: 'right',
                        axisLabel: { color: '#A78BFA' },
                        axisLine: { lineStyle: { color: '#6B46C1' } }
                    }
                ],
                series: [
                    {
                        name: 'Ú©Ù„ÛŒÚ©â€ŒÙ‡Ø§',
                        type: 'bar',
                        data: [1200, 1900, 3000, 1800, 2400, 1600],
                        itemStyle: { color: '#8B5CF6' }
                    },
                    {
                        name: 'ØªØ¨Ø¯ÛŒÙ„â€ŒÙ‡Ø§',
                        type: 'line',
                        yAxisIndex: 1,
                        data: [120, 190, 300, 180, 240, 160],
                        itemStyle: { color: '#EC4899' }
                    }
                ]
            };
            charts.marketing.setOption(marketingOption);
            
            // Customer Satisfaction Chart
            charts.satisfaction = echarts.init(document.getElementById('satisfactionChart'));
            const satisfactionOption = {
                backgroundColor: 'transparent',
                tooltip: {
                    trigger: 'axis',
                    backgroundColor: 'rgba(30, 30, 60, 0.9)',
                    borderColor: '#6B46C1',
                    textStyle: { color: '#E0E7FF' }
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    data: ['Ú©ÛŒÙÛŒØª Ù…Ø­ØµÙˆÙ„', 'Ø®Ø¯Ù…Ø§Øª Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ', 'Ù‚ÛŒÙ…Øªâ€ŒÚ¯Ø°Ø§Ø±ÛŒ', 'ØªØ­ÙˆÛŒÙ„', 'Ø¨Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ'],
                    axisLabel: { color: '#A78BFA' },
                    axisLine: { lineStyle: { color: '#6B46C1' } }
                },
                yAxis: {
                    type: 'value',
                    min: 0,
                    max: 5,
                    axisLabel: { color: '#A78BFA' },
                    axisLine: { lineStyle: { color: '#6B46C1' } },
                    splitLine: { lineStyle: { color: 'rgba(139, 92, 246, 0.1)' } }
                },
                series: [
                    {
                        name: 'Ø§Ù…ØªÛŒØ§Ø²',
                        type: 'bar',
                        data: [4.2, 4.8, 3.9, 4.5, 4.1],
                        itemStyle: {
                            color: {
                                type: 'linear',
                                x: 0, y: 0, x2: 0, y2: 1,
                                colorStops: [
                                    { offset: 0, color: '#8B5CF6' },
                                    { offset: 1, color: '#EC4899' }
                                ]
                            }
                        }
                    }
                ]
            };
            charts.satisfaction.setOption(satisfactionOption);
            
            // Comprehensive Dashboard Chart
            charts.comprehensive = echarts.init(document.getElementById('comprehensiveChart'));
            const comprehensiveOption = {
                backgroundColor: 'transparent',
                tooltip: {
                    trigger: 'axis',
                    backgroundColor: 'rgba(30, 30, 60, 0.9)',
                    borderColor: '#6B46C1',
                    textStyle: { color: '#E0E7FF' }
                },
                legend: {
                    data: ['ÙØ±ÙˆØ´', 'Ù…Ø´ØªØ±ÛŒØ§Ù† Ø¬Ø¯ÛŒØ¯', 'Ù†Ø±Ø® ØªØ¨Ø¯ÛŒÙ„', 'Ø±Ø¶Ø§ÛŒØª'],
                    textStyle: { color: '#A78BFA' },
                    top: 10
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    data: ['Ù‡ÙØªÙ‡ Û±', 'Ù‡ÙØªÙ‡ Û²', 'Ù‡ÙØªÙ‡ Û³', 'Ù‡ÙØªÙ‡ Û´'],
                    axisLabel: { color: '#A78BFA' },
                    axisLine: { lineStyle: { color: '#6B46C1' } }
                },
                yAxis: [
                    {
                        type: 'value',
                        name: 'ÙØ±ÙˆØ´ (M)',
                        position: 'left',
                        axisLabel: { color: '#A78BFA' },
                        axisLine: { lineStyle: { color: '#6B46C1' } },
                        splitLine: { lineStyle: { color: 'rgba(139, 92, 246, 0.1)' } }
                    },
                    {
                        type: 'value',
                        name: 'Ù†Ø±Ø®/ØªØ¹Ø¯Ø§Ø¯',
                        position: 'right',
                        axisLabel: { color: '#A78BFA' },
                        axisLine: { lineStyle: { color: '#6B46C1' } }
                    }
                ],
                series: [
                    {
                        name: 'ÙØ±ÙˆØ´',
                        type: 'bar',
                        data: [5.2, 6.1, 7.3, 5.9],
                        itemStyle: { color: '#8B5CF6' }
                    },
                    {
                        name: 'Ù…Ø´ØªØ±ÛŒØ§Ù† Ø¬Ø¯ÛŒØ¯',
                        type: 'line',
                        yAxisIndex: 1,
                        data: [28, 35, 42, 31],
                        itemStyle: { color: '#EC4899' }
                    },
                    {
                        name: 'Ù†Ø±Ø® ØªØ¨Ø¯ÛŒÙ„',
                        type: 'line',
                        yAxisIndex: 1,
                        data: [2.8, 3.1, 3.5, 2.9],
                        itemStyle: { color: '#06B6D4' }
                    },
                    {
                        name: 'Ø±Ø¶Ø§ÛŒØª',
                        type: 'line',
                        yAxisIndex: 1,
                        data: [4.5, 4.6, 4.7, 4.6],
                        itemStyle: { color: '#10B981' }
                    }
                ]
            };
            charts.comprehensive.setOption(comprehensiveOption);
            
            // Handle window resize
            window.addEventListener('resize', function() {
                Object.values(charts).forEach(chart => {
                    if (chart) chart.resize();
                });
            });
        }
        
        function initializeTypedText() {
            const elements = document.querySelectorAll('.animate-text');
            
            elements.forEach((element, index) => {
                if (element.textContent.trim()) {
                    const typed = new Typed(element, {
                        strings: [element.textContent],
                        typeSpeed: 50,
                        showCursor: false,
                        onComplete: () => {
                            element.classList.add('typing-complete');
                        }
                    });
                }
            });
        }
        
        function startRealTimeUpdates() {
            // Simulate real-time data updates
            setInterval(() => {
                updateMetrics();
                updateCharts();
            }, 10000); // Update every 10 seconds
        }
        
        function updateMetrics() {
            // Simulate metric updates
            const metricValues = document.querySelectorAll('.metric-value');
            metricValues.forEach(element => {
                if (Math.random() > 0.7) { // 30% chance to update
                    const currentText = element.textContent;
                    // Add small animation
                    anime({
                        targets: element,
                        scale: [1, 1.05, 1],
                        duration: 300,
                        easing: 'easeInOutQuad'
                    });
                }
            });
        }
        
        function updateCharts() {
            // Simulate chart data updates
            Object.values(charts).forEach(chart => {
                if (chart && Math.random() > 0.8) { // 20% chance to update
                    // Add loading animation
                    const container = chart.getDom();
                    container.style.opacity = '0.7';
                    setTimeout(() => {
                        container.style.opacity = '1';
                    }, 500);
                }
            });
        }
        
        function refreshMetric(metricType) {
            if (crm && crm.showSuccessAnimation) {
                crm.showSuccessAnimation(`Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…ØªØ±ÛŒÚ© ${metricType}...`);
            }
            
            // Simulate refresh
            setTimeout(() => {
                updateMetrics();
                if (crm && crm.showSuccessAnimation) {
                    crm.showSuccessAnimation('Ù…ØªØ±ÛŒÚ© Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯');
                }
            }, 1000);
        }
        
        function refreshChart(chartId) {
            if (crm && crm.showSuccessAnimation) {
                crm.showSuccessAnimation(`Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù†Ù…ÙˆØ¯Ø§Ø± ${chartId}...`);
            }
            
            const chart = charts[chartId];
            if (chart) {
                const container = chart.getDom();
                container.style.opacity = '0.7';
                
                setTimeout(() => {
                    // Simulate data update
                    const option = chart.getOption();
                    // Add some random variation to data
                    if (option.series) {
                        option.series.forEach(series => {
                            if (series.data) {
                                series.data = series.data.map(value => {
                                    if (typeof value === 'number') {
                                        return value + (Math.random() - 0.5) * value * 0.1;
                                    }
                                    return value;
                                });
                            }
                        });
                    }
                    chart.setOption(option);
                    container.style.opacity = '1';
                    
                    if (crm && crm.showSuccessAnimation) {
                        crm.showSuccessAnimation('Ù†Ù…ÙˆØ¯Ø§Ø± Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯');
                    }
                }, 1000);
            }
        }
        
        function refreshPredictions() {
            if (crm && crm.showSuccessAnimation) {
                crm.showSuccessAnimation('Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒâ€ŒÙ‡Ø§ÛŒ AI...');
            }
            
            // Simulate AI prediction refresh
            setTimeout(() => {
                const predictions = document.querySelectorAll('.prediction-item');
                predictions.forEach((item, index) => {
                    setTimeout(() => {
                        anime({
                            targets: item,
                            backgroundColor: ['rgba(139, 92, 246, 0.1)', 'rgba(34, 197, 94, 0.1)', 'rgba(139, 92, 246, 0.1)'],
                            duration: 1000,
                            easing: 'easeInOutQuad'
                        });
                    }, index * 200);
                });
                
                if (crm && crm.showSuccessAnimation) {
                    crm.showSuccessAnimation('Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒâ€ŒÙ‡Ø§ÛŒ AI Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯Ù†Ø¯');
                }
            }, 1500);
        }
        
        function fullscreenChart(chartId) {
            const chart = charts[chartId];
            if (chart) {
                if (crm && crm.showSuccessAnimation) {
                    crm.showSuccessAnimation('Ù†Ù…ÙˆØ¯Ø§Ø± Ø¯Ø± Ø­Ø§Ù„Øª ØªÙ…Ø§Ù…â€ŒØµÙØ­Ù‡ Ø¨Ø§Ø² Ø´Ø¯');
                }
            }
        }
        
        function applyAnalyticsFilters() {
            const timeRange = document.getElementById('timeRange').value;
            const marketSegment = document.getElementById('marketSegment').value;
            const analysisType = document.getElementById('analysisType').value;
            const chartType = document.getElementById('chartType').value;
            
            if (crm && crm.showSuccessAnimation) {
                crm.showSuccessAnimation('Ø¯Ø± Ø­Ø§Ù„ Ø§Ø¹Ù…Ø§Ù„ ÙÛŒÙ„ØªØ±Ù‡Ø§ÛŒ ØªØ­Ù„ÛŒÙ„...');
            }
            
            // Simulate filter application
            setTimeout(() => {
                // Update charts based on filters
                Object.values(charts).forEach(chart => {
                    if (chart) {
                        const container = chart.getDom();
                        container.style.opacity = '0.7';
                        setTimeout(() => {
                            container.style.opacity = '1';
                        }, 500);
                    }
                });
                
                if (crm && crm.showSuccessAnimation) {
                    crm.showSuccessAnimation('ÙÛŒÙ„ØªØ±Ù‡Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ø¹Ù…Ø§Ù„ Ø´Ø¯Ù†Ø¯');
                }
            }, 1000);
        }
        
        function resetFilters() {
            document.getElementById('timeRange').value = '30';
            document.getElementById('marketSegment').value = 'all';
            document.getElementById('analysisType').value = 'sales';
            document.getElementById('chartType').value = 'line';
            
            if (crm && crm.showSuccessAnimation) {
                crm.showSuccessAnimation('ÙÛŒÙ„ØªØ±Ù‡Ø§ Ø¨Ø§Ø²Ù†Ø´Ø§Ù†ÛŒ Ø´Ø¯Ù†Ø¯');
            }
            
            applyAnalyticsFilters();
        }
        
        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if ((e.ctrlKey || e.metaKey) && e.key === '/') {
                e.preventDefault();
                const searchInput = document.querySelector('.global-search');
                if (searchInput) {
                    searchInput.focus();
                    searchInput.select();
                }
            }
        });
        
        // Global functions
        window.refreshMetric = refreshMetric;
        window.refreshChart = refreshChart;
        window.refreshPredictions = refreshPredictions;
        window.fullscreenChart = fullscreenChart;
        window.applyAnalyticsFilters = applyAnalyticsFilters;
        window.resetFilters = resetFilters;
    </script>
</body>
</html>